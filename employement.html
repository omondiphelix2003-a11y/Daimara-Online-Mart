<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daimara Employment Manager</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --primary:#e99d11;
  --accent:#2563eb;
  --success:#16a34a;
  --danger:#dc2626;
  --purple:#7c3aed;
  --bg:#f4f6f9;
  --card:#ffffff;
  --text:#1f2937;
  --border:#e5e7eb;
  --shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

body{
  margin:0;
  font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background:#1F2937;
  color:var(--text);
  line-height:1.6;
  -webkit-font-smoothing:antialiased;
}

.topbar{
  background:var(--primary);
  padding:clamp(0.75rem, 2vw, 1rem) clamp(1rem, 3vw, 1.5rem);
  font-weight:700;
  font-size:clamp(1.125rem, 2.5vw, 1.5rem);
  color:var(--text);
  position:sticky;
  top:0;
  z-index:100;
  box-shadow:var(--shadow);
  display:flex;
  align-items:center;
  gap:0.75rem;
}

.topbar i{
  font-size:1.25em;
}

.container{ 
  padding:clamp(1rem, 3vw, 2rem);
  max-width:1400px;
  margin:0 auto;
}

/* Search & Filter Section */
.search-section{
  display:flex;
  gap:clamp(0.5rem, 2vw, 1rem);
  flex-wrap:wrap;
  margin-bottom:1.5rem;
  align-items:center;
}

.search-section input,
.search-section select{
  padding:0.75rem 1rem;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:1rem;
  background:white;
  transition:all 0.2s;
  flex:1 1 200px;
  min-width:0;
}

.search-section input:focus,
.search-section select:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(233, 157, 17, 0.1);
}

.search-section input{
  min-width:250px;
}

/* Summary Cards Grid */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(min(100%, 160px), 1fr));
  gap:clamp(0.75rem, 2vw, 1rem);
  margin-bottom:2rem;
}

.card{
  background:var(--card);
  border-radius:16px;
  padding:clamp(1rem, 3vw, 1.25rem);
  box-shadow:var(--shadow);
  border:1px solid var(--border);
  transition:transform 0.2s, box-shadow 0.2s;
  position:relative;
  overflow:hidden;
}

.card::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:4px;
  background:var(--primary);
}

.card:nth-child(2)::before{background:var(--accent);}
.card:nth-child(3)::before{background:var(--primary);}
.card:nth-child(4)::before{background:var(--success);}
.card:nth-child(5)::before{background:var(--purple);}

.card:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 25px -5px rgba(0,0,0,0.1);
}

.card div:first-child{
  font-size:0.875rem;
  color:#6b7280;
  text-transform:uppercase;
  letter-spacing:0.05em;
  font-weight:600;
  margin-bottom:0.5rem;
}

.card strong{
  font-size:clamp(1.75rem, 4vw, 2.25rem);
  color:var(--text);
  display:block;
  line-height:1.2;
}

/* Form Section */
.section{ 
  margin-top:clamp(1.5rem, 4vw, 2.5rem);
}

.form-card{
  background:var(--card);
  border-radius:16px;
  padding:clamp(1.25rem, 3vw, 2rem);
  box-shadow:var(--shadow);
  border:1px solid var(--border);
}

.form-card h3{
  font-size:clamp(1.125rem, 2.5vw, 1.375rem);
  margin-bottom:1.5rem;
  color:var(--text);
  display:flex;
  align-items:center;
  gap:0.5rem;
}

.form-card h3 i{
  color:var(--primary);
}

.assign-box{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(min(100%, 250px), 1fr));
  gap:clamp(0.75rem, 2vw, 1rem);
  align-items:end;
}

.assign-box input,
.assign-box select{
  padding:0.875rem 1rem;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:1rem;
  width:100%;
  transition:all 0.2s;
  background:white;
}

.assign-box input:focus,
.assign-box select:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(233, 157, 17, 0.1);
}

.assign-box input::placeholder{
  color:#9ca3af;
}

/* File Upload Styling */
.file-input-wrapper{
  grid-column:1 / -1;
  display:flex;
  flex-direction:column;
  gap:0.5rem;
}

.file-input-wrapper label{
  font-size:0.875rem;
  font-weight:600;
  color:#374151;
}

input[type="file"]{
  padding:0.5rem;
  border:2px dashed var(--border);
  border-radius:10px;
  cursor:pointer;
  transition:all 0.2s;
}

input[type="file"]:hover{
  border-color:var(--primary);
  background:#fffbeb;
}

.profile-preview{
  margin-top:0.5rem;
}

.profile-preview img{
  width:80px;
  height:80px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid var(--primary);
  box-shadow:0 4px 6px rgba(0,0,0,0.1);
}

/* Buttons */
.btn{
  background:var(--text);
  color:var(--primary);
  border:none;
  padding:0.875rem 1.5rem;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  font-size:1rem;
  transition:all 0.2s;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0.5rem;
  white-space:nowrap;
}

.btn:hover{
  background:var(--primary);
  color:var(--text);
  transform:translateY(-1px);
  box-shadow:0 4px 12px rgba(233, 157, 17, 0.3);
}

.btn:active{
  transform:translateY(0);
}

.btn-secondary{
  background:var(--accent);
  color:white;
}

.btn-secondary:hover{
  background:#1d4ed8;
  box-shadow:0 4px 12px rgba(37, 99, 235, 0.3);
}

.action-btn{
  background:var(--danger);
  color:white;
  border:none;
  padding:0.5rem 1rem;
  border-radius:8px;
  cursor:pointer;
  font-weight:500;
  transition:all 0.2s;
  display:inline-flex;
  align-items:center;
  gap:0.25rem;
}

.action-btn:hover{
  background:#b91c1c;
  transform:translateY(-1px);
}

/* Table Styles */
.table-wrapper{
  overflow-x:auto;
  border-radius:16px;
  border:1px solid var(--border);
  background:white;
  box-shadow:var(--shadow);
  margin-top:1rem;
}

.table{
  width:100%;
  border-collapse:collapse;
  min-width:800px;
  font-size:0.95rem;
}

.table th,
.table td{
  padding:1rem;
  border-bottom:1px solid var(--border);
  text-align:left;
  vertical-align:middle;
}

.table th{
  background:#f9fafb;
  font-weight:600;
  font-size:0.875rem;
  text-transform:uppercase;
  letter-spacing:0.025em;
  color:#374151;
  white-space:nowrap;
}

.table tbody tr{
  transition:background 0.2s;
}

.table tbody tr:hover{
  background:#f9fafb;
}

.table tbody tr:last-child td{
  border-bottom:none;
}

.table img{
  width:48px;
  height:48px;
  border-radius:50%;
  object-fit:cover;
  border:2px solid var(--border);
  transition:transform 0.2s;
}

.table img:hover{
  transform:scale(1.1);
  border-color:var(--primary);
}

/* Role Badges */
.role-badge{
  padding:0.375rem 0.875rem;
  border-radius:9999px;
  font-size:0.875rem;
  color:white;
  font-weight:600;
  display:inline-flex;
  align-items:center;
  gap:0.375rem;
  white-space:nowrap;
}

.role-badge::before{
  content:'';
  width:6px;
  height:6px;
  border-radius:50%;
  background:white;
}

.operator{background:var(--accent);}
.executives{background:var(--primary); color:var(--text);}
.deliverystaff{background:var(--success);}
.supportstaff{background:var(--purple);}

/* Mobile Cards Layout */
.mobile-cards{
  display:none;
  flex-direction:column;
  gap:1rem;
  margin-top:1rem;
}

.employee-card{
  background:white;
  border:1px solid var(--border);
  border-radius:16px;
  padding:1.25rem;
  box-shadow:var(--shadow);
  animation:slideIn 0.3s ease-out;
  display:flex;
  gap:1rem;
  align-items:start;
}

@keyframes slideIn{
  from{
    opacity:0;
    transform:translateY(10px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.employee-avatar{
  flex-shrink:0;
}

.employee-avatar img{
  width:64px;
  height:64px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid var(--border);
}

.employee-avatar .no-image{
  width:64px;
  height:64px;
  border-radius:50%;
  background:#f3f4f6;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#9ca3af;
  font-size:1.5rem;
}

.employee-info{
  flex:1;
  min-width:0;
}

.employee-header{
  display:flex;
  justify-content:space-between;
  align-items:start;
  margin-bottom:0.75rem;
  flex-wrap:wrap;
  gap:0.5rem;
}

.employee-name{
  font-weight:700;
  font-size:1.125rem;
  color:var(--text);
  margin:0;
}

.employee-details{
  display:grid;
  gap:0.5rem;
  font-size:0.9375rem;
}

.detail-item{
  display:flex;
  align-items:center;
  gap:0.5rem;
  color:#4b5563;
}

.detail-item i{
  color:var(--primary);
  width:16px;
  text-align:center;
}

.employee-actions{
  display:flex;
  gap:0.75rem;
  margin-top:1rem;
  flex-wrap:wrap;
}

.employee-actions .btn,
.employee-actions .action-btn{
  flex:1;
  min-width:120px;
  justify-content:center;
  padding:0.75rem;
}

/* Empty State */
.empty-state{
  text-align:center;
  padding:3rem 1rem;
  color:#6b7280;
}

.empty-state i{
  font-size:3rem;
  margin-bottom:1rem;
  opacity:0.3;
  color:var(--primary);
}

.empty-state h4{
  font-size:1.25rem;
  margin-bottom:0.5rem;
  color:var(--text);
}

/* Toast Notification */
.toast{
  position:fixed;
  bottom:2rem;
  right:2rem;
  background:var(--text);
  color:white;
  padding:1rem 1.5rem;
  border-radius:12px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  display:flex;
  align-items:center;
  gap:0.75rem;
  transform:translateY(100px);
  opacity:0;
  transition:all 0.3s;
  z-index:1000;
  max-width:90vw;
}

.toast.show{
  transform:translateY(0);
  opacity:1;
}

.toast.success{
  background:var(--success);
}

.toast.error{
  background:var(--danger);
}

/* Responsive Breakpoints */
@media (max-width:768px){
  .table-wrapper{
    display:none;
  }
  
  .mobile-cards{
    display:flex;
  }
  
  .search-section input{
    min-width:100%;
  }
  
  .assign-box{
    grid-template-columns:1fr;
  }
  
  .file-input-wrapper{
    grid-column:auto;
  }
  
  .btn{
    width:100%;
  }
  
  .employee-card{
    flex-direction:column;
    text-align:center;
  }
  
  .employee-avatar{
    align-self:center;
  }
  
  .employee-header{
    flex-direction:column;
    align-items:center;
    text-align:center;
  }
  
  .detail-item{
    justify-content:center;
  }
}

@media (min-width:769px){
  .mobile-cards{
    display:none !important;
  }
}

/* Touch optimizations */
@media (hover:none) and (pointer:coarse){
  .btn,
  .action-btn,
  input,
  select{
    min-height:44px;
  }
  
  .card{
    transform:none !important;
  }
}

/* Dark mode support */
@media (prefers-color-scheme:dark){
  :root{
    --bg:#1F2937;
    --card:#1F2937;
    --text:#f9fafb;
    --border:#374151;
  }
  
  .table th{
    background:#374151;
    color:#e5e7eb;
  }
  
  .table tbody tr:hover{
    background:#374151;
  }
  
  .search-section input,
  .assign-box input,
  .assign-box select{
    background:#1f2937;
    color:white;
    border-color:#4b5563;
  }
  
  .search-section input::placeholder{
    color:#9ca3af;
  }
  
  input[type="file"]{
    background:#1f2937;
    color:white;
  }
}

/* Print styles */
@media print{
  .topbar,
  .search-section,
  .form-card,
  .action-btn,
  .btn{
    display:none !important;
  }
  
  .card{
    break-inside:avoid;
    box-shadow:none;
    border:1px solid #000;
  }
  
  .table-wrapper{
    overflow:visible;
  }
  
  .table{
    min-width:100%;
  }
}

/* Accessibility */
@media (prefers-reduced-motion:reduce){
  *{
    animation-duration:0.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:0.01ms !important;
  }
}

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border-width:0;
}
</style>

</head>
<body>

<div class="topbar">
  <i class="fas fa-users-cog"></i>
  Daimara Employment & Role Assignment
</div>

<div class="container">

<!-- SEARCH & FILTER -->
<div class="search-section">
  <input type="text" id="searchBox" placeholder="ðŸ” Search employee by name, email or phone...">
  <select id="filterRole">
    <option value="All">All Roles</option>
    <option value="Operator">Operator</option>
    <option value="Executives">Executives</option>
    <option value="Delivery Staff">Delivery Staff</option>
    <option value="Support Staff">Support Staff</option>
  </select>
</div>

<!-- SUMMARY CARDS -->
<div class="grid">
  <div class="card">
    <div>Total Employees</div>
    <strong id="totalEmployees">0</strong>
  </div>
  <div class="card">
    <div>Operators</div>
    <strong id="operatorsCount">0</strong>
  </div>
  <div class="card">
    <div>Executives</div>
    <strong id="executivesCount">0</strong>
  </div>
  <div class="card">
    <div>Delivery Staff</div>
    <strong id="deliveryCount">0</strong>
  </div>
  <div class="card">
    <div>Support Staff</div>
    <strong id="supportCount">0</strong>
  </div>
</div>

<!-- FORM -->
<div class="form-card section">
  <h3><i class="fas fa-user-plus"></i> <span id="formTitle">Add New Employee</span></h3>
  <div class="assign-box">

    <input id="employeeName" placeholder="Full Name" autocomplete="name">
    <input id="employeeEmail" placeholder="Email Address" autocomplete="email" type="email">
    <input id="phoneNumber" placeholder="Phone Number" autocomplete="tel" type="tel">
    <input id="employeeSalary" type="number" placeholder="Monthly Salary">
    <input id="bankname" placeholder="Bank Name">
    <input id="bankaccountnumber" placeholder="Account Number">

    <div class="file-input-wrapper">
      <label for="profile-image"><i class="fas fa-camera"></i> Profile Photo</label>
      <input type="file" id="profile-image" accept="image/*">
      <div id="profile-preview" class="profile-preview"></div>
    </div>

    <select id="employeeRole">
      <option value="Operator">Operator</option>
      <option value="Executives">Executives</option>
      <option value="Delivery Staff">Delivery Staff</option>
      <option value="Support Staff">Support Staff</option>
    </select>

    <button class="btn" id="employBtn">
      <i class="fas fa-save"></i> <span id="btnText">Employ</span>
    </button>
    
    <button class="btn btn-secondary" id="cancelBtn" style="display:none;" onclick="cancelEdit()">
      <i class="fas fa-times"></i> Cancel
    </button>

  </div>
</div>

<!-- EMPLOYEE LIST -->
<div class="section">
  <div class="form-card">
    <h3><i class="fas fa-list"></i> Employee Records</h3>
    
    <!-- Desktop Table -->
    <div class="table-wrapper">
      <table class="table">
        <thead>
          <tr>
            <th>Photo</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Role</th>
            <th>Salary</th>
            <th>Bank Details</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="employeeTable"></tbody>
      </table>
    </div>
    
    <!-- Mobile Cards -->
    <div class="mobile-cards" id="mobileCards"></div>
    
    <!-- Empty State -->
    <div class="empty-state" id="emptyState" style="display:none;">
      <i class="fas fa-users-slash"></i>
      <h4>No Employees Found</h4>
      <p>Add your first employee using the form above</p>
    </div>
  </div>
</div>

</div>

<!-- Toast Notification -->
<div class="toast" id="toast">
  <i class="fas fa-check-circle"></i>
  <span id="toastMessage">Operation successful</span>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

let employees = JSON.parse(localStorage.getItem("employees")) || [];
let editId = null;
let imageData = "";

const tableBody = document.getElementById("employeeTable");
const mobileCards = document.getElementById("mobileCards");
const preview = document.getElementById("profile-preview");
const formTitle = document.getElementById("formTitle");
const btnText = document.getElementById("btnText");
const cancelBtn = document.getElementById("cancelBtn");

/* IMAGE PREVIEW */
document.getElementById("profile-image").addEventListener("change", e => {
  const file = e.target.files[0];
  if(!file) return;
  
  // Validate file size (max 2MB)
  if(file.size > 2 * 1024 * 1024){
    showToast("Image must be less than 2MB", "error");
    return;
  }
  
  const reader = new FileReader();
  reader.onload = ev => {
    imageData = ev.target.result;
    preview.innerHTML = `<img src="${imageData}" alt="Preview">`;
  };
  reader.readAsDataURL(file);
});

/* SAVE */
document.getElementById("employBtn").addEventListener("click", () => {

  const emp = {
    id: editId || Date.now(),
    name: employeeName.value.trim(),
    email: employeeEmail.value.trim(),
    phone: phoneNumber.value.trim(),
    role: employeeRole.value,
    salary: employeeSalary.value,
    bank: bankname.value,
    account: bankaccountnumber.value,
    image: imageData
  };

  if(!emp.name || !emp.email || !emp.phone){
    showToast("Name, Email & Phone are required", "error");
    return;
  }
  
  // Email validation
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if(!emailRegex.test(emp.email)){
    showToast("Please enter a valid email address", "error");
    return;
  }

  if(editId){
    const index = employees.findIndex(e => e.id === editId);
    employees[index] = emp;
    editId = null;
    showToast("Employee updated successfully");
    cancelBtn.style.display = "none";
    formTitle.textContent = "Add New Employee";
    btnText.textContent = "Employ";
  } else {
    employees.push(emp);
    showToast("Employee added successfully");
  }

  save();
  clearForm();
});

/* RENDER */
function render(){

  const search = searchBox.value.toLowerCase();
  const roleFilter = filterRole.value;

  tableBody.innerHTML = "";
  mobileCards.innerHTML = "";

  const filteredEmployees = employees.filter(e =>
    (roleFilter === "All" || e.role === roleFilter) &&
    (e.name.toLowerCase().includes(search) ||
     e.email.toLowerCase().includes(search) ||
     e.phone.includes(search))
  );
  
  if(filteredEmployees.length === 0){
    document.getElementById("emptyState").style.display = "block";
  } else {
    document.getElementById("emptyState").style.display = "none";
  }

  filteredEmployees.forEach(e => {

    const roleClass = e.role.replace(/\s/g,'').toLowerCase();
    const bankInfo = e.bank && e.account ? `${e.bank} - ${e.account}` : (e.bank || e.account || "-");

    // Desktop Table Row
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${e.image ? `<img src="${e.image}" alt="${e.name}" loading="lazy">` : '<div class="no-image" style="width:48px;height:48px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;color:#9ca3af;"><i class="fas fa-user"></i></div>'}</td>
      <td><strong>${e.name}</strong></td>
      <td><a href="mailto:${e.email}" style="color:var(--accent);text-decoration:none;">${e.email}</a></td>
      <td><a href="tel:${e.phone}" style="color:var(--text);text-decoration:none;">${e.phone}</a></td>
      <td><span class="role-badge ${roleClass}">${e.role}</span></td>
      <td>${e.salary ? "KES " + parseInt(e.salary).toLocaleString() : "-"}</td>
      <td>${bankInfo}</td>
      <td>
        <button class="btn btn-secondary" onclick="editEmployee(${e.id})" style="padding:0.5rem 1rem;font-size:0.875rem;margin-right:0.5rem;">
          <i class="fas fa-edit"></i> Edit
        </button>
        <button class="action-btn" onclick="deleteEmployee(${e.id})">
          <i class="fas fa-trash"></i> Delete
        </button>
      </td>
    `;
    tableBody.appendChild(row);
    
    // Mobile Card
    const card = document.createElement("div");
    card.className = "employee-card";
    card.innerHTML = `
      <div class="employee-avatar">
        ${e.image ? `<img src="${e.image}" alt="${e.name}">` : '<div class="no-image"><i class="fas fa-user"></i></div>'}
      </div>
      <div class="employee-info">
        <div class="employee-header">
          <h4 class="employee-name">${e.name}</h4>
          <span class="role-badge ${roleClass}">${e.role}</span>
        </div>
        <div class="employee-details">
          <div class="detail-item">
            <i class="fas fa-envelope"></i>
            <span>${e.email}</span>
          </div>
          <div class="detail-item">
            <i class="fas fa-phone"></i>
            <span>${e.phone}</span>
          </div>
          ${e.salary ? `
          <div class="detail-item">
            <i class="fas fa-money-bill-wave"></i>
            <span>KES ${parseInt(e.salary).toLocaleString()}</span>
          </div>
          ` : ''}
          ${(e.bank || e.account) ? `
          <div class="detail-item">
            <i class="fas fa-university"></i>
            <span>${bankInfo}</span>
          </div>
          ` : ''}
        </div>
        <div class="employee-actions">
          <button class="btn btn-secondary" onclick="editEmployee(${e.id})">
            <i class="fas fa-edit"></i> Edit
          </button>
          <button class="action-btn" onclick="deleteEmployee(${e.id})">
            <i class="fas fa-trash"></i> Delete
          </button>
        </div>
      </div>
    `;
    mobileCards.appendChild(card);
  });

  updateCounts();
}

/* EDIT */
window.editEmployee = id => {
  const e = employees.find(x => x.id === id);
  employeeName.value = e.name;
  employeeEmail.value = e.email;
  phoneNumber.value = e.phone;
  employeeSalary.value = e.salary;
  bankname.value = e.bank;
  bankaccountnumber.value = e.account;
  employeeRole.value = e.role;
  imageData = e.image;
  preview.innerHTML = e.image ? `<img src="${e.image}" alt="Current photo">` : "";
  editId = id;
  
  formTitle.textContent = "Edit Employee";
  btnText.textContent = "Update";
  cancelBtn.style.display = "inline-flex";
  
  window.scrollTo({top: 0, behavior: "smooth"});
  showToast("Editing employee: " + e.name);
}

/* CANCEL EDIT */
window.cancelEdit = function() {
  clearForm();
  editId = null;
  formTitle.textContent = "Add New Employee";
  btnText.textContent = "Employ";
  cancelBtn.style.display = "none";
  showToast("Edit cancelled");
}

/* DELETE */
window.deleteEmployee = id => {
  const emp = employees.find(e => e.id === id);
  if(confirm(`Are you sure you want to delete ${emp.name}?`)){
    employees = employees.filter(e => e.id !== id);
    save();
    showToast("Employee deleted successfully");
  }
}

/* SAVE STORAGE */
function save(){
  localStorage.setItem("employees", JSON.stringify(employees));
  render();
}

/* COUNTS */
function updateCounts(){
  totalEmployees.textContent = employees.length;
  operatorsCount.textContent = employees.filter(e => e.role === "Operator").length;
  executivesCount.textContent = employees.filter(e => e.role === "Executives").length;
  deliveryCount.textContent = employees.filter(e => e.role === "Delivery Staff").length;
  supportCount.textContent = employees.filter(e => e.role === "Support Staff").length;
}

/* CLEAR */
function clearForm(){
  document.querySelectorAll(".assign-box input:not([type='file'])").forEach(i => i.value = "");
  document.getElementById("profile-image").value = "";
  preview.innerHTML = "";
  imageData = "";
  employeeRole.selectedIndex = 0;
}

/* TOAST NOTIFICATION */
function showToast(message, type = "success") {
  const toast = document.getElementById("toast");
  const toastMessage = document.getElementById("toastMessage");
  
  toast.className = "toast " + type;
  toastMessage.textContent = message;
  
  // Update icon based on type
  const icon = toast.querySelector("i");
  icon.className = type === "success" ? "fas fa-check-circle" : "fas fa-exclamation-circle";
  
  toast.classList.add("show");
  
  setTimeout(() => {
    toast.classList.remove("show");
  }, 3000);
}

/* SEARCH & FILTER */
searchBox.oninput = render;
filterRole.onchange = render;

// Initialize
render();

});
</script>
</body>
</html>